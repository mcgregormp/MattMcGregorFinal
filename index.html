<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>Rail Failures</title>
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
<style>
  body {
  margin:0;
  padding:0;
  font-family:
  chiller;
  }
  h1 {
  position: absolute;
  left: 50px;
  top: 10px;
  padding: 8px 2%;
  margin: 0;
  background: rgba(40,70,195,0.8);
  box-shadow: 0 0 15px rgba(0,0,0,0.2);
  border-radius: 1px;
  color: white;
  font-size: 2em;
  z-index: 800;
  }
  #map {
  position:absolute;
  top:0;
  bottom:0;
  width:960px;
  height: 540px;
  }
</style>
</head>
<body>
<div id='map'></div>
<h1>Location of Railway Failures in the United States, 2005-2015</h1>
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>
<script>
var map = L.map('map', {
center: [39.5, -95.3],
zoom: 4
});

var Stamen_TonerLite = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}', {
      	attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
      	ext: 'png'
    }).addTo(map);


    states = L.geoJson.ajax("assets/data.geojson",{
    attribution: 'Data: US Census Bureau, Map: Matt McGregor',
    pointToLayer: function (feature, x){
    return L.circleMarker(x, {
    color: '#980043',
    opacity: 1,
    weight: 2,
    fillColor: '#980043',
    fillOpacity: .5,
    radius: 6
    }) }});

    var minValue = 11821;
var minRadius = 2;

    states.addTo(map);

</script>
</body>
</html>
